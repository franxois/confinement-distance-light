import{S as t,i as s,s as a,e,t as o,c as n,a as c,g as i,d as l,b as r,f as h,F as d,h as u,k as m,M as v,n as f,N as g,H as p,j as $,m as M,o as j,x as E,u as b,v as k}from"../chunks/vendor-8210a378.js";const w=function(t){return t*Math.PI/180};function P(t){let s,a,m,v,f,g;return{c(){s=e("p"),a=o("Distance :\n\t\t\t"),m=o(t[2]),v=o("\n\t\t\tfrom\n\t\t\t"),f=e("a"),g=o("🏠"),this.h()},l(e){s=n(e,"P",{class:!0});var o=c(s);a=i(o,"Distance :\n\t\t\t"),m=i(o,t[2]),v=i(o,"\n\t\t\tfrom\n\t\t\t"),f=n(o,"A",{href:!0,target:!0});var r=c(f);g=i(r,"🏠"),r.forEach(l),o.forEach(l),this.h()},h(){r(f,"href",t[3]),r(f,"target","_blank"),r(s,"class","svelte-1tdjk3b")},m(t,e){h(t,s,e),d(s,a),d(s,m),d(s,v),d(s,f),d(f,g)},p(t,s){4&s&&u(m,t[2]),8&s&&r(f,"href",t[3])},d(t){t&&l(s)}}}function S(t){let s,a,$,M,j,E,b,k,w,S,y,I,N,x,D,O,T,C,q,A,J,B,F,G,H=t[2]&&P(t);return{c(){s=m(),a=e("section"),$=e("img"),j=m(),E=e("p"),b=o("Position : "),k=o(t[0]),w=o(","),S=o(t[1]),y=m(),I=e("p"),N=o("Précision : "),x=o(t[4]),D=m(),O=e("p"),T=o("Date : "),C=o(t[5]),q=m(),H&&H.c(),A=m(),J=e("button"),B=o("save position"),this.h()},l(e){v('[data-svelte="svelte-175j5n7"]',document.head).forEach(l),s=f(e),a=n(e,"SECTION",{class:!0});var o=c(a);$=n(o,"IMG",{src:!0,class:!0,alt:!0}),j=f(o),E=n(o,"P",{class:!0});var r=c(E);b=i(r,"Position : "),k=i(r,t[0]),w=i(r,","),S=i(r,t[1]),r.forEach(l),y=f(o),I=n(o,"P",{class:!0});var h=c(I);N=i(h,"Précision : "),x=i(h,t[4]),h.forEach(l),D=f(o),O=n(o,"P",{class:!0});var d=c(O);T=i(d,"Date : "),C=i(d,t[5]),d.forEach(l),q=f(o),H&&H.l(o),A=f(o),J=n(o,"BUTTON",{class:!0});var u=c(J);B=i(u,"save position"),u.forEach(l),o.forEach(l),this.h()},h(){document.title="Confinement distance light",$.src!==(M="/compass-svgrepo-com.svg")&&r($,"src","/compass-svgrepo-com.svg"),r($,"class","App-logo svelte-1tdjk3b"),r($,"alt","logo"),r(E,"class","svelte-1tdjk3b"),r(I,"class","svelte-1tdjk3b"),r(O,"class","svelte-1tdjk3b"),r(J,"class","btn svelte-1tdjk3b"),r(a,"class","App-header svelte-1tdjk3b")},m(e,o){h(e,s,o),h(e,a,o),d(a,$),d(a,j),d(a,E),d(E,b),d(E,k),d(E,w),d(E,S),d(a,y),d(a,I),d(I,N),d(I,x),d(a,D),d(a,O),d(O,T),d(O,C),d(a,q),H&&H.m(a,null),d(a,A),d(a,J),d(J,B),F||(G=g(J,"click",t[6]),F=!0)},p(t,[s]){1&s&&u(k,t[0]),2&s&&u(S,t[1]),16&s&&u(x,t[4]),32&s&&u(C,t[5]),t[2]?H?H.p(t,s):(H=P(t),H.c(),H.m(a,A)):H&&(H.d(1),H=null)},i:p,o:p,d(t){t&&l(s),t&&l(a),H&&H.d(),F=!1,G()}}}function y(t,s,a){let e,o,n,c,i,l;navigator.geolocation.watchPosition((function(t){console.log(t),a(0,({latitude:n,longitude:c,accuracy:i}=t.coords),n,a(1,c),a(7,i)),a(8,l=new Date),l.setTime(t.timestamp)}));let r={};const h=window.localStorage.getItem("confinement:home");null!==h&&(r=JSON.parse(h));let d,u;return t.$$.update=()=>{var s,h,m,v,f,g,p;128&t.$$.dirty&&a(4,e=void 0!==i?Math.round(i)+"m":void 0),256&t.$$.dirty&&a(5,o=void 0!==l?l.toLocaleString():void 0),515&t.$$.dirty&&r.latitude&&r.longitude&&n&&c&&(a(2,d=Math.round(1e3*(s=r.latitude,h=r.longitude,v=c,f=w((m=n)-s),g=w(v-h),p=Math.sin(f/2)*Math.sin(f/2)+Math.cos(w(s))*Math.cos(w(m))*Math.sin(g/2)*Math.sin(g/2),2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p))*6371))+"m"),a(3,u="https://www.google.com/maps/search/?api=1&query="+r.latitude+","+r.longitude))},[n,c,d,u,e,o,()=>{a(9,r={latitude:n,longitude:c}),window.localStorage.setItem("confinement:home",JSON.stringify(r))},i,l,r]}class I extends t{constructor(t){super(),s(this,t,y,S,a,{})}}function N(t){let s,a,o,i;return o=new I({}),{c(){s=m(),a=e("section"),$(o.$$.fragment),this.h()},l(t){v('[data-svelte="svelte-175j5n7"]',document.head).forEach(l),s=f(t),a=n(t,"SECTION",{class:!0});var e=c(a);M(o.$$.fragment,e),e.forEach(l),this.h()},h(){document.title="Confinement distance light",r(a,"class","svelte-i25dvj")},m(t,e){h(t,s,e),h(t,a,e),j(o,a,null),i=!0},p:p,i(t){i||(E(o.$$.fragment,t),i=!0)},o(t){b(o.$$.fragment,t),i=!1},d(t){t&&l(s),t&&l(a),k(o)}}}const x=!1;export default class extends t{constructor(t){super(),s(this,t,null,N,a,{})}}export{x as ssr};
